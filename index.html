<body>
  <div id="quiz-container">
    <h2>Confidentiality Quiz</h2>
    <label for="nameInput">Your Name:</label>
    <input type="text" id="nameInput" required />

    <!-- Quiz Questions -->
    <div class="question">
      <p><strong>1. Which of the following actions helps maintain the confidentiality of EHRs?</strong></p>
      <label><input type="radio" name="q1" value="correct"> Keeping passwords confidential and logging out of the system when not in use</label><br>
      <label><input type="radio" name="q1" value="wrong"> Sharing patient information on social media</label><br>
      <label><input type="radio" name="q1" value="wrong"> Printing patient records for personal use</label><br>
      <label><input type="radio" name="q1" value="wrong"> Sharing patient data with anyone</label><br>
    </div>

    <div class="question">
      <p><strong>2. Why is it essential to always log out of the EHR system when you're finished with your work?</strong></p>
      <label><input type="radio" name="q2" value="correct"> To prevent unauthorized access to patient information</label><br>
      <label><input type="radio" name="q2" value="wrong"> To allow the system to auto-update records</label><br>
      <label><input type="radio" name="q2" value="wrong"> To speed up the system</label><br>
      <label><input type="radio" name="q2" value="wrong"> To keep your password valid</label><br>
    </div>

    <button onclick="submitQuiz()">Submit</button>
  </div>

  <div id="certificate-container" style="display: none;">
    <!-- This certificate content will show only after quiz is submitted -->
    <img src="certificate-template.png" id="cert-bg" style="width:100%; max-width:800px; position:relative;">
    <div id="cert-overlay" style="position:absolute; top:250px; left:150px; font-size:24px;">
      <p id="certName"></p>
      <p id="certScore"></p>
    </div>
    <button onclick="downloadPDF()">Download Certificate as PDF</button>
  </div>

  <script>
    function submitQuiz() {
      const name = document.getElementById("nameInput").value.trim();
      if (!name) {
        alert("Please enter your name");
        return;
      }

      let score = 0;
      if (document.querySelector('input[name="q1"]:checked')?.value === "correct") score += 1;
      if (document.querySelector('input[name="q2"]:checked')?.value === "correct") score += 1;

      // Hide quiz and show certificate
      document.getElementById("quiz-container").style.display = "none";
      document.getElementById("certificate-container").style.display = "block";

      // Fill certificate details
      document.getElementById("certName").textContent = name;
      document.getElementById("certScore").textContent = "Score: " + score + "/2";
    }

    function downloadPDF() {
      // use html2pdf or similar here if needed
      alert("PDF download functionality can be added here.");
    }
  </script>
</body>
